#if ($jg.project.comment.name)
    #set($projectName=$jg.project.comment.name.trim())
#end
#if ($jg.project.comment.version.size() > 0)
    #set ($version = $jg.project.comment.version.get(0).content.originalString.trim())
#end
#if ($jg.project.comment.description.size() > 0)
    #set ($projectDesc = $jg.project.comment.description.get(0).content.originalString.trim())
#end
<?xml version="1.0" encoding="$encoding"?>
<!-- $projectName -->
    <!-- Documentation build file for $projectName. Generated by jGrouseDoc-->
<project name="$projectName" default="applyJGrouseDoc">
    <target name="applyJGrouseDoc">
        <copy todir="$outDir" overwrite="yes">
            <fileset dir="$commonSkin/css" />
        </copy>
        <copy todir="$outDir">
            <fileset dir="$commonSkin/img" />
        </copy>
        <copy todir="$outDir" overwrite="yes">
            <fileset dir="$commonSkin/js" />
        </copy>
        
        
        <vmtask resourcePath="., ${jGrouseHome}" source="${outDir}/${projectFile}" encoding="$encoding" loglevel="INFO">
            <!-- create index file -->
        	<template templatename="skins/${skin}/vm/startup.vm" vmlibs="skins/common/vm/common.vm">
        		<output file="$outDir/index.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>
		        </output>
	        </template>
            <!-- create javascript index -->
            <template templatename="skins/${skin}/vm/jsindex.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/jsindex.js">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/> 
                    <param key="rootPath" value=""/>          
                </output>
            </template>
            <!-- search page -->            
            <template templatename="skins/${skin}/vm/jgsearch.vm" vmlibs="skins/common/vm/common.vm">
            	<output file="$outDir/jgsearch.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
	            </output>
            </template>
            <!-- true index page -->
            <template templatename="skins/${skin}/vm/trueindex.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/jgindex.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
                </output>
            </template>
            
            <!-- navtree -->            
            <template templatename="skins/${skin}/vm/navtree.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/navtree.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
                </output>
            </template>
            
            <!-- create "all classes" file -->
            <template templatename="skins/${skin}/vm/allclasses-frame.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/allclasses-frame.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="useFullNames" value="$useFullNames"/>
                    <param key="rootPath" value=""/>          
                </output>
            </template>
            
            <!-- create "all files" file -->
            
            <template templatename="skins/${skin}/vm/allFiles.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/allFiles.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
                </output>
            </template>
            
            <!-- create main page -->
            <template templatename="skins/${skin}/vm/mainpage.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/overview-summary-log.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
                </output>
            </template>            
            <template templatename="skins/${skin}/vm/mainpage.vm" vmlibs="skins/common/vm/common.vm">
                <output file="$outDir/overview-summary.html">
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                    <param key="rootPath" value=""/>          
                </output>
            </template>

            <template templatename="skins/${skin}/vm/fileDetail.vm" vmlibs="skins/common/vm/common.vm">
            	#foreach($file in $jg.files)
                <output file="$outDir/physical/${file.path}.html">
                	<param key="objectName" value="$file.fullName"/>
                	<param key="objType" value="File"/>
                	<param key="rootPath" value="../$file.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>
                #end
                #foreach($file in $jg.modules)
                <output file="$outDir/physical/${file.path}.html">
                    <param key="objectName" value="$file.fullName"/>
                    <param key="objType" value="Module"/>
                    <param key="rootPath" value="../$file.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>
                #end
            </template>            
            <template templatename="skins/${skin}/vm/fileOverview.vm" vmlibs="skins/common/vm/common.vm">
                #foreach($file in $jg.files)
                <output file="$outDir/physical/${file.path}-summary.html">
                    <param key="objectName" value="$file.fullName"/>
                    <param key="objType" value="File"/>
                    <param key="rootPath" value="../$file.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>
                #end
                #foreach($file in $jg.modules)
                <output file="$outDir/physical/${file.path}-summary.html">
                    <param key="objectName" value="$file.fullName"/>
                    <param key="objType" value="Module"/>
                    <param key="rootPath" value="../$file.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>
                #end
            </template>   
            <template templatename="skins/${skin}/vm/logicalDetail.vm" vmlibs="skins/common/vm/common.vm">
            	#foreach($item in $jg.logical)
                <output file="$outDir/logical/${item.path}.html">
                    <param key="objectName" value="$item.fullName"/>
                    <param key="rootPath" value="../$item.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>            	
            	#end
            </template>
            <template templatename="skins/${skin}/vm/namespaceOverview.vm" vmlibs="skins/common/vm/common.vm">
                #foreach($item in $jg.logical)
                <output file="$outDir/logical/${item.path}-summary.html">
                    <param key="objectName" value="$item.fullName"/>
                    <param key="rootPath" value="../$item.rootPath"/>
                    <param key="projectName" value="$projectName"/>
                    <param key="projectDesc" value="$projectDesc"/>
                    <param key="version" value="$version"/>           
                    #if($aux_css != "not_specified")
                    <param key="aux_css" value="$aux_css"/>
                    #end
                </output>               
                #end
            </template>            
        </vmtask>           
    </target>
</project>
